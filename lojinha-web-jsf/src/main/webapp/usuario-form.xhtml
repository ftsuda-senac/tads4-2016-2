<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
  <h:head>
    <title>Cadastro de Usuário</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" />
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </h:head>
  <h:body>
    <div class="container-fluid">
      <div class="row">
	<div class="col-xs-12">
	  <h:form prependId="false">
	    <h:inputHidden value="#{usuarioBean.usuario.id}" />
	    <div class="form-group">
	      <h:outputLabel for="txt-nome" value="Nome"
			     styleClass="control-label" />
	      <h:inputText value="#{usuarioBean.usuario.nome}"
			   id="txt-nome" styleClass="form-control"
			   required="true" requiredMessage="Preencher o nome"
			   pt:placeholder="Nome completo" />
	      <p><h:message for="txt-nome" /></p>
	    </div>
	    <div class="form-group">
	      <h:outputLabel for="txt-senha" value="Senha"
			     styleClass="control-label" />
	      <h:inputSecret value="#{usuarioBean.usuario.senha}"
			     id="txt-senha" styleClass="form-control"
			     required="true" requiredMessage="Preencher a senha"
			     pt:placeholder="Senha de acesso" />
	      <p><h:message for="txt-senha" /></p>
	    </div>
	    <div>
	      <h:selectOneRadio value="#{usuarioBean.usuario.sexo}"
				label="Sexo" id="rad-sexo">
		<f:selectItem itemLabel="Feminino" itemValue="FEMININO" />
		<f:selectItem itemLabel="Masculino" itemValue="MASCULINO" />
	      </h:selectOneRadio>
	    </div>
	    <div>
	      <h:selectManyCheckbox value="#{usuarioBean.usuario.interesses}"
				    label="Interesses" id="chk-interesses">
		<f:selectItems value="#{usuarioBean.interesses}"
			       var="interesse"
			       itemLabel="#{interesse}" 
			       itemValue="#{interesse}" />
	      </h:selectManyCheckbox>
	    </div>
	    <div class="form-group">
	      <h:outputLabel for="txt-email" value="E-mail"
			     styleClass="control-label" />
	      <h:inputText value="#{usuarioBean.usuario.email}"
			   id="txt-email" styleClass="form-control"
			   required="true" requiredMessage="Preencher o e-mail"
			   pt:placeholder="E-mail válido"
			   pt:type="email" />
	      <p><h:message for="txt-email" /></p>
	    </div>
	    <!-- TODO: CRIAR CAMPOS PARA DEMAIS ATRIBUTOD DO USUARIO -->
	    <div>
	      <h:commandButton value="Salvar"
			       action="#{usuarioBean.salvar()}"
			       styleClass="btn btn-primary btn-lg btn-block">
		<f:ajax execute="txt-nome txt-senha rad-sexo chk-interesses txt-email" render="saida"/>
	      </h:commandButton>
	    </div>
	  </h:form>
	  
	  <h:outputText id="saida" value="#{usuarioBean.usuarioSalvo}" />
	</div>
      </div>
    </div>
  </h:body>
</html>

